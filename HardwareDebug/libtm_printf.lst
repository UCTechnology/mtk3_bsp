   1                             		.file	"libtm_printf.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   5                             	_outint:
   6                             	.LFB6:
   7                             		.file 1 "../lib/libtm/libtm_printf.c"
   1:../lib/libtm/libtm_printf.c **** /*
   2:../lib/libtm/libtm_printf.c ****  *----------------------------------------------------------------------
   3:../lib/libtm/libtm_printf.c ****  *    micro T-Kernel 3.00.03
   4:../lib/libtm/libtm_printf.c ****  *
   5:../lib/libtm/libtm_printf.c ****  *    Copyright (C) 2006-2021 by Ken Sakamura.
   6:../lib/libtm/libtm_printf.c ****  *    This software is distributed under the T-License 2.2.
   7:../lib/libtm/libtm_printf.c ****  *----------------------------------------------------------------------
   8:../lib/libtm/libtm_printf.c ****  *
   9:../lib/libtm/libtm_printf.c ****  *    Released by TRON Forum(http://www.tron.org) at 2021/03/31.
  10:../lib/libtm/libtm_printf.c ****  *
  11:../lib/libtm/libtm_printf.c ****  *----------------------------------------------------------------------
  12:../lib/libtm/libtm_printf.c ****  */
  13:../lib/libtm/libtm_printf.c **** 
  14:../lib/libtm/libtm_printf.c **** /*
  15:../lib/libtm/libtm_printf.c ****  *	libtm_printf.c
  16:../lib/libtm/libtm_printf.c ****  *
  17:../lib/libtm/libtm_printf.c ****  *	printf() / sprintf() T-Monitor compatible calls.
  18:../lib/libtm/libtm_printf.c ****  *
  19:../lib/libtm/libtm_printf.c ****  *	- Unsupported specifiers: floating point, long long and others.
  20:../lib/libtm/libtm_printf.c ****  *		Coversion:	 a, A, e, E, f, F, g, G, n
  21:../lib/libtm/libtm_printf.c ****  *		Size qualifier:  hh, ll, j, z, t, L
  22:../lib/libtm/libtm_printf.c ****  *	- No limitation of output string length.
  23:../lib/libtm/libtm_printf.c ****  *	- Minimize stack usage.
  24:../lib/libtm/libtm_printf.c ****  *		Depending on available stack size, define TM_OUTBUF_SZ by
  25:../lib/libtm/libtm_printf.c ****  *		appropriate value.
  26:../lib/libtm/libtm_printf.c ****  */
  27:../lib/libtm/libtm_printf.c **** 
  28:../lib/libtm/libtm_printf.c **** #include <tk/tkernel.h>
  29:../lib/libtm/libtm_printf.c **** #include <tm/tmonitor.h>
  30:../lib/libtm/libtm_printf.c **** 
  31:../lib/libtm/libtm_printf.c **** #if USE_TMONITOR
  32:../lib/libtm/libtm_printf.c **** #include "libtm.h"
  33:../lib/libtm/libtm_printf.c **** 
  34:../lib/libtm/libtm_printf.c **** #if USE_TM_PRINTF
  35:../lib/libtm/libtm_printf.c **** #include <stdarg.h>
  36:../lib/libtm/libtm_printf.c **** 
  37:../lib/libtm/libtm_printf.c **** /* Output function */
  38:../lib/libtm/libtm_printf.c **** typedef	struct {
  39:../lib/libtm/libtm_printf.c **** 	H	len;		/* Total output length */
  40:../lib/libtm/libtm_printf.c **** 	H	cnt;		/* Buffer counts */
  41:../lib/libtm/libtm_printf.c **** 	UB	*bufp;		/* Buffer pointer for tm_sprintf */
  42:../lib/libtm/libtm_printf.c **** } OutPar;
  43:../lib/libtm/libtm_printf.c **** typedef	void	(*OutFn)( UB *str, INT len, OutPar *par );
  44:../lib/libtm/libtm_printf.c **** 
  45:../lib/libtm/libtm_printf.c **** /*
  46:../lib/libtm/libtm_printf.c ****  *	Output integer value
  47:../lib/libtm/libtm_printf.c ****  */
  48:../lib/libtm/libtm_printf.c **** LOCAL	UB	*outint( UB *ep, UW val, UB base )
  49:../lib/libtm/libtm_printf.c **** {
   8                             		.loc 1 49 1
   9 0000 6E 7A                   		pushm	r7-r10
  10                             	.LCFI0:
  11 0002 71 0A F0                		add	#-16, r0, r10
  12                             	.LCFI1:
  13 0005 EF A0                   		mov.L	r10, r0
  14 0007 E7 A1 01                		mov.L	r1, 4[r10]
  15 000a E7 A2 02                		mov.L	r2, 8[r10]
  16 000d C7 A3 0C                		mov.B	r3, 12[r10]
  50:../lib/libtm/libtm_printf.c **** LOCAL const UB  digits[32] = "0123456789abcdef0123456789ABCDEF";
  51:../lib/libtm/libtm_printf.c **** 	UB	caps;
  52:../lib/libtm/libtm_printf.c **** 
  53:../lib/libtm/libtm_printf.c **** 	caps = (base & 0x40) >> 2;		/* 'a' or 'A' */
  17                             		.loc 1 53 23
  18 0010 59 A5 0C                		movu.B	12[r10], r5
  19 0013 6A 25                   		shar	#2, r5
  20                             		.loc 1 53 7
  21 0015 75 25 10                		and	#16, r5
  22 0018 C3 A5                   		mov.B	r5, [r10]
  54:../lib/libtm/libtm_printf.c **** 	for (base &= 0x3F; val >= base; val /= base) {
  23                             		.loc 1 54 12
  24 001a CD A5 0C                		mov.B	12[r10], r5
  25 001d 75 25 3F                		and	#63, r5
  26 0020 C7 A5 0C                		mov.B	r5, 12[r10]
  27                             		.loc 1 54 2
  28 0023 2E 3B                   		bra	.L2
  29                             	.L3:
  55:../lib/libtm/libtm_printf.c **** 		*--ep = digits[(val % base) + caps];
  30                             		.loc 1 55 23 discriminator 3
  31 0025 59 A5 0C                		movu.B	12[r10], r5
  32 0028 ED A4 02                		mov.L	8[r10], r4
  33 002b EF 43                   		mov.L	r4, r3
  34 002d FC 27 53                		divu	r5, r3
  35 0030 4F 35                   		mul	r3, r5
  36 0032 43 54                   		sub	r5, r4
  37                             		.loc 1 55 31 discriminator 3
  38 0034 58 A5                   		movu.B	[r10], r5
  39 0036 4B 45                   		add	r4, r5
  40                             		.loc 1 55 9 discriminator 3
  41 0038 ED A4 01                		mov.L	4[r10], r4
  42 003b 60 14                   		sub	#1, r4
  43 003d E7 A4 01                		mov.L	r4, 4[r10]
  44                             		.loc 1 55 17 discriminator 3
  45 0040 FB 42 08 00 00 00       		mov.L	#_digits.2217, r4
  46 0046 FE 45 44                		mov.B	[r5,r4], r4
  47                             		.loc 1 55 9 discriminator 3
  48 0049 ED A5 01                		mov.L	4[r10], r5
  49 004c C3 54                   		mov.B	r4, [r5]
  54:../lib/libtm/libtm_printf.c **** 	for (base &= 0x3F; val >= base; val /= base) {
  50                             		.loc 1 54 38 discriminator 3
  51 004e 59 A5 0C                		movu.B	12[r10], r5
  52 0051 ED A4 02                		mov.L	8[r10], r4
  53 0054 EF 47                   		mov.L	r4, r7
  54 0056 FC 27 57                		divu	r5, r7
  55 0059 EF 75                   		mov.L	r7, r5
  56 005b E7 A5 02                		mov.L	r5, 8[r10]
  57                             	.L2:
  54:../lib/libtm/libtm_printf.c **** 	for (base &= 0x3F; val >= base; val /= base) {
  58                             		.loc 1 54 25 discriminator 1
  59 005e 59 A5 0C                		movu.B	12[r10], r5
  54:../lib/libtm/libtm_printf.c **** 	for (base &= 0x3F; val >= base; val /= base) {
  60                             		.loc 1 54 2 discriminator 1
  61 0061 ED A4 02                		mov.L	8[r10], r4
  62 0064 47 54                   		cmp	r5, r4
  63 0066 22 BF                   		bgeu	.L3
  56:../lib/libtm/libtm_printf.c **** 	}
  57:../lib/libtm/libtm_printf.c **** 	*--ep = digits[val + caps];
  64                             		.loc 1 57 21
  65 0068 58 A5                   		movu.B	[r10], r5
  66 006a 06 89 A5 02             		add	8[r10].L, r5
  67                             		.loc 1 57 8
  68 006e ED A4 01                		mov.L	4[r10], r4
  69 0071 60 14                   		sub	#1, r4
  70 0073 E7 A4 01                		mov.L	r4, 4[r10]
  71                             		.loc 1 57 16
  72 0076 FB 42 08 00 00 00       		mov.L	#_digits.2217, r4
  73 007c FE 45 44                		mov.B	[r5,r4], r4
  74                             		.loc 1 57 8
  75 007f ED A5 01                		mov.L	4[r10], r5
  76 0082 C3 54                   		mov.B	r4, [r5]
  58:../lib/libtm/libtm_printf.c **** 	return ep;				/* buffer top pointer */
  77                             		.loc 1 58 9
  78 0084 ED A5 01                		mov.L	4[r10], r5
  59:../lib/libtm/libtm_printf.c **** }
  79                             		.loc 1 59 1
  80 0087 EF 51                   		mov.L	r5, r1
  81 0089 3F 7A 08                		rtsd	#32, r7-r10
  82                             	.LFE6:
  84                             		.section C,"a",@progbits
  85                             		.p2align 2
  86                             	.LC0:
  87 0000 20 00                   		.string	" "
  88                             	.LC1:
  89 0002 30 00                   		.string	"0"
  90                             	.LC2:
  91 0004 58 00                   		.string	"X"
  92                             	.LC3:
  93 0006 78 00                   		.string	"x"
  94                             		.section P,"ax"
  96                             	_tm_vsprintf:
  97                             	.LFB7:
  60:../lib/libtm/libtm_printf.c **** 
  61:../lib/libtm/libtm_printf.c **** /*
  62:../lib/libtm/libtm_printf.c ****  *	Output with format (limitted version)
  63:../lib/libtm/libtm_printf.c ****  */
  64:../lib/libtm/libtm_printf.c **** LOCAL	void	tm_vsprintf( OutFn ostr, OutPar *par, const UB *fmt, va_list ap )
  65:../lib/libtm/libtm_printf.c **** {
  98                             		.loc 1 65 1
  99 008c 7E AA                   		push.l	r10
 100                             	.LCFI2:
 101 008e 71 0A C4                		add	#-60, r0, r10
 102                             	.LCFI3:
 103 0091 EF A0                   		mov.L	r10, r0
 104 0093 E7 A1 0B                		mov.L	r1, 44[r10]
 105 0096 E7 A2 0C                		mov.L	r2, 48[r10]
 106 0099 E7 A3 0D                		mov.L	r3, 52[r10]
 107 009c E7 A4 0E                		mov.L	r4, 56[r10]
  66:../lib/libtm/libtm_printf.c **** #define	MAX_DIGITS	14
  67:../lib/libtm/libtm_printf.c **** 	UW		v;
  68:../lib/libtm/libtm_printf.c **** 	H		wid, prec, n;
  69:../lib/libtm/libtm_printf.c **** 	UB		*fms, *cbs, *cbe, cbuf[MAX_DIGITS];
  70:../lib/libtm/libtm_printf.c **** 	UB		c, base, flg, sign, qual;
  71:../lib/libtm/libtm_printf.c **** 
  72:../lib/libtm/libtm_printf.c **** /* flg */
  73:../lib/libtm/libtm_printf.c **** #define	F_LEFT		0x01
  74:../lib/libtm/libtm_printf.c **** #define	F_PLUS		0x02
  75:../lib/libtm/libtm_printf.c **** #define	F_SPACE		0x04
  76:../lib/libtm/libtm_printf.c **** #define	F_PREFIX	0x08
  77:../lib/libtm/libtm_printf.c **** #define	F_ZERO		0x10
  78:../lib/libtm/libtm_printf.c **** 
  79:../lib/libtm/libtm_printf.c **** 	for (fms = NULL; (c = *fmt++) != '\0'; ) {
 108                             		.loc 1 79 11
 109 009f F9 A6 03 00             		mov.L	#0, 12[r10]
 110                             		.loc 1 79 2
 111 00a3 38 66 05                		bra	.L6
 112                             	.L85:
  80:../lib/libtm/libtm_printf.c **** 
  81:../lib/libtm/libtm_printf.c **** 		if (c != '%') {	/* Fixed string */
 113                             		.loc 1 81 6
 114 00a6 59 A5 18                		movu.B	24[r10], r5
 115 00a9 75 55 25                		cmp	#37, r5
 116 00ac 20 15                   		beq	.L7
  82:../lib/libtm/libtm_printf.c **** 			if (fms == NULL) fms = (UB*)fmt - 1;
 117                             		.loc 1 82 7
 118 00ae ED A5 03                		mov.L	12[r10], r5
 119 00b1 61 05                   		cmp	#0, r5
 120 00b3 3B 56 05                		bne	.L6
 121                             		.loc 1 82 25 discriminator 1
 122 00b6 ED A5 0D                		mov.L	52[r10], r5
 123 00b9 60 15                   		sub	#1, r5
 124 00bb E7 A5 03                		mov.L	r5, 12[r10]
  83:../lib/libtm/libtm_printf.c **** 			continue;
 125                             		.loc 1 83 4 discriminator 1
 126 00be 38 4B 05                		bra	.L6
 127                             	.L7:
  84:../lib/libtm/libtm_printf.c **** 		}
  85:../lib/libtm/libtm_printf.c **** 
  86:../lib/libtm/libtm_printf.c **** 		/* Output fix string */
  87:../lib/libtm/libtm_printf.c **** 		if (fms != NULL) {
 128                             		.loc 1 87 6
 129 00c1 ED A5 03                		mov.L	12[r10], r5
 130 00c4 61 05                   		cmp	#0, r5
 131 00c6 20 1F                   		beq	.L9
  88:../lib/libtm/libtm_printf.c **** 			(*ostr)(fms, fmt - fms - 1, par);
 132                             		.loc 1 88 21
 133 00c8 ED A4 0D                		mov.L	52[r10], r4
 134 00cb ED A5 03                		mov.L	12[r10], r5
 135 00ce FF 05 54                		sub	r5, r4, r5
 136                             		.loc 1 88 27
 137 00d1 71 54 FF                		add	#-1, r5, r4
 138                             		.loc 1 88 5
 139 00d4 ED A5 0B                		mov.L	44[r10], r5
 140 00d7 ED A3 0C                		mov.L	48[r10], r3
 141 00da EF 42                   		mov.L	r4, r2
 142 00dc ED A1 03                		mov.L	12[r10], r1
 143 00df 7F 15                   		jsr	r5
 144                             	.LVL0:
  89:../lib/libtm/libtm_printf.c **** 			fms = NULL;
 145                             		.loc 1 89 8
 146 00e1 F9 A6 03 00             		mov.L	#0, 12[r10]
 147                             	.L9:
  90:../lib/libtm/libtm_printf.c **** 		}
  91:../lib/libtm/libtm_printf.c **** 
  92:../lib/libtm/libtm_printf.c **** 		/* Get flags */
  93:../lib/libtm/libtm_printf.c **** 		for (flg = 0; ; ) {
 148                             		.loc 1 93 12
 149 00e5 F9 A4 1A 00             		mov.B	#0, 26[r10]
 150                             	.L19:
  94:../lib/libtm/libtm_printf.c **** 			switch (c = *fmt++) {
 151                             		.loc 1 94 20
 152 00e9 ED A5 0D                		mov.L	52[r10], r5
 153 00ec 71 54 01                		add	#1, r5, r4
 154 00ef E7 A4 0D                		mov.L	r4, 52[r10]
 155                             		.loc 1 94 14
 156 00f2 CC 55                   		mov.B	[r5], r5
 157 00f4 C7 A5 18                		mov.B	r5, 24[r10]
 158 00f7 59 A5 18                		movu.B	24[r10], r5
 159                             		.loc 1 94 4
 160 00fa 75 55 2B                		cmp	#43, r5
 161 00fd 20 28                   		beq	.L10
 162 00ff 75 55 2B                		cmp	#43, r5
 163 0102 2A 0E                   		bgt	.L11
 164 0104 75 55 20                		cmp	#32, r5
 165 0107 20 28                   		beq	.L12
 166 0109 75 55 23                		cmp	#35, r5
 167 010c 20 2D                   		beq	.L13
  95:../lib/libtm/libtm_printf.c **** 			case '-': flg |= F_LEFT;	continue;
  96:../lib/libtm/libtm_printf.c **** 			case '+': flg |= F_PLUS;	continue;
  97:../lib/libtm/libtm_printf.c **** 			case ' ': flg |= F_SPACE;	continue;
  98:../lib/libtm/libtm_printf.c **** 			case '#': flg |= F_PREFIX;	continue;
  99:../lib/libtm/libtm_printf.c **** 			case '0': flg |= F_ZERO;	continue;
 100:../lib/libtm/libtm_printf.c **** 			}
 101:../lib/libtm/libtm_printf.c **** 			break;
 168                             		.loc 1 101 4
 169 010e 2E 44                   		bra	.L18
 170                             	.L11:
  94:../lib/libtm/libtm_printf.c **** 			switch (c = *fmt++) {
 171                             		.loc 1 94 4
 172 0110 75 55 2D                		cmp	#45, r5
 173 0113 10                      		beq	.L15
 174 0114 75 55 30                		cmp	#48, r5
 175 0117 20 2C                   		beq	.L16
 176                             		.loc 1 101 4
 177 0119 2E 39                   		bra	.L18
 178                             	.L15:
  95:../lib/libtm/libtm_printf.c **** 			case '-': flg |= F_LEFT;	continue;
 179                             		.loc 1 95 18
 180 011b CD A5 1A                		mov.B	26[r10], r5
 181 011e 65 15                   		or	#1, r5
 182 0120 C7 A5 1A                		mov.B	r5, 26[r10]
  95:../lib/libtm/libtm_printf.c **** 			case '-': flg |= F_LEFT;	continue;
 183                             		.loc 1 95 4
 184 0123 2E 2D                   		bra	.L17
 185                             	.L10:
  96:../lib/libtm/libtm_printf.c **** 			case ' ': flg |= F_SPACE;	continue;
 186                             		.loc 1 96 18
 187 0125 CD A5 1A                		mov.B	26[r10], r5
 188 0128 65 25                   		or	#2, r5
 189 012a C7 A5 1A                		mov.B	r5, 26[r10]
  96:../lib/libtm/libtm_printf.c **** 			case ' ': flg |= F_SPACE;	continue;
 190                             		.loc 1 96 4
 191 012d 2E 23                   		bra	.L17
 192                             	.L12:
  97:../lib/libtm/libtm_printf.c **** 			case '#': flg |= F_PREFIX;	continue;
 193                             		.loc 1 97 18
 194 012f CD A5 1A                		mov.B	26[r10], r5
 195 0132 65 45                   		or	#4, r5
 196 0134 C7 A5 1A                		mov.B	r5, 26[r10]
  97:../lib/libtm/libtm_printf.c **** 			case '#': flg |= F_PREFIX;	continue;
 197                             		.loc 1 97 4
 198 0137 2E 19                   		bra	.L17
 199                             	.L13:
  98:../lib/libtm/libtm_printf.c **** 			case '0': flg |= F_ZERO;	continue;
 200                             		.loc 1 98 18
 201 0139 CD A5 1A                		mov.B	26[r10], r5
 202 013c 65 85                   		or	#8, r5
 203 013e C7 A5 1A                		mov.B	r5, 26[r10]
  98:../lib/libtm/libtm_printf.c **** 			case '0': flg |= F_ZERO;	continue;
 204                             		.loc 1 98 4
 205 0141 2E 0F                   		bra	.L17
 206                             	.L16:
  99:../lib/libtm/libtm_printf.c **** 			}
 207                             		.loc 1 99 18
 208 0143 CD A5 1A                		mov.B	26[r10], r5
 209 0146 75 35 10                		or	#16, r5
 210 0149 C7 A5 1A                		mov.B	r5, 26[r10]
  99:../lib/libtm/libtm_printf.c **** 			}
 211                             		.loc 1 99 4
 212 014c 03                      		nop
 213 014d FC 13 00                		.balign 8,3,3
 214                             	.L17:
  94:../lib/libtm/libtm_printf.c **** 			case '-': flg |= F_LEFT;	continue;
 215                             		.loc 1 94 4
 216 0150 2E 99                   		bra	.L19
 217                             	.L18:
 102:../lib/libtm/libtm_printf.c **** 		}
 103:../lib/libtm/libtm_printf.c **** 
 104:../lib/libtm/libtm_printf.c **** 		/* Get field width */
 105:../lib/libtm/libtm_printf.c **** 		if (c == '*') {
 218                             		.loc 1 105 6
 219 0152 59 A5 18                		movu.B	24[r10], r5
 220 0155 75 55 2A                		cmp	#42, r5
 221 0158 21 3C                   		bne	.L20
 106:../lib/libtm/libtm_printf.c **** 			wid = va_arg(ap, INT);
 222                             		.loc 1 106 10
 223 015a ED A5 0E                		mov.L	56[r10], r5
 224 015d 62 35                   		add	#3, r5
 225 015f 75 25 FC                		and	#-4, r5
 226 0162 71 54 04                		add	#4, r5, r4
 227 0165 E7 A4 0E                		mov.L	r4, 56[r10]
 228 0168 EC 55                   		mov.L	[r5], r5
 229                             		.loc 1 106 8
 230 016a D7 A5 02                		mov.W	r5, 4[r10]
 107:../lib/libtm/libtm_printf.c **** 			if (wid < 0) {
 231                             		.loc 1 107 7
 232 016d DD A5 02                		mov.W	4[r10], r5
 233 0170 61 05                   		cmp	#0, r5
 234 0172 28 12                   		bge	.L21
 108:../lib/libtm/libtm_printf.c **** 				wid = -wid;
 235                             		.loc 1 108 9
 236 0174 DD A5 02                		mov.W	4[r10], r5
 237 0177 7E 15                   		neg	r5
 238 0179 D7 A5 02                		mov.W	r5, 4[r10]
 109:../lib/libtm/libtm_printf.c **** 				flg |= F_LEFT;
 239                             		.loc 1 109 9
 240 017c CD A5 1A                		mov.B	26[r10], r5
 241 017f 65 15                   		or	#1, r5
 242 0181 C7 A5 1A                		mov.B	r5, 26[r10]
 243                             	.L21:
 110:../lib/libtm/libtm_printf.c **** 			}
 111:../lib/libtm/libtm_printf.c **** 			c = *fmt++;
 244                             		.loc 1 111 12
 245 0184 ED A5 0D                		mov.L	52[r10], r5
 246 0187 71 54 01                		add	#1, r5, r4
 247 018a E7 A4 0D                		mov.L	r4, 52[r10]
 248                             		.loc 1 111 6
 249 018d CC 55                   		mov.B	[r5], r5
 250 018f C7 A5 18                		mov.B	r5, 24[r10]
 251 0192 2E 38                   		bra	.L22
 252                             	.L20:
 112:../lib/libtm/libtm_printf.c **** 		} else {
 113:../lib/libtm/libtm_printf.c **** 			for (wid = 0; c >= '0' && c <= '9'; c = *fmt++)
 253                             		.loc 1 113 13
 254 0194 F9 A5 02 00             		mov.W	#0, 4[r10]
 255                             		.loc 1 113 4
 256 0198 2E 22                   		bra	.L23
 257                             	.L24:
 114:../lib/libtm/libtm_printf.c **** 				wid = wid * 10 + c - '0';
 258                             		.loc 1 114 15 discriminator 4
 259 019a DD A5 02                		mov.W	4[r10], r5
 260 019d 63 A5                   		mul	#10, r5
 261 019f DF 54                   		mov.W	r5, r4
 262                             		.loc 1 114 20 discriminator 4
 263 01a1 59 A5 18                		movu.B	24[r10], r5
 264 01a4 4B 45                   		add	r4, r5
 265                             		.loc 1 114 24 discriminator 4
 266 01a6 71 55 D0                		add	#-48, r5
 267                             		.loc 1 114 9 discriminator 4
 268 01a9 D7 A5 02                		mov.W	r5, 4[r10]
 113:../lib/libtm/libtm_printf.c **** 				wid = wid * 10 + c - '0';
 269                             		.loc 1 113 48 discriminator 4
 270 01ac ED A5 0D                		mov.L	52[r10], r5
 271 01af 71 54 01                		add	#1, r5, r4
 272 01b2 E7 A4 0D                		mov.L	r4, 52[r10]
 113:../lib/libtm/libtm_printf.c **** 				wid = wid * 10 + c - '0';
 273                             		.loc 1 113 42 discriminator 4
 274 01b5 CC 55                   		mov.B	[r5], r5
 275 01b7 C7 A5 18                		mov.B	r5, 24[r10]
 276                             	.L23:
 113:../lib/libtm/libtm_printf.c **** 				wid = wid * 10 + c - '0';
 277                             		.loc 1 113 4 discriminator 1
 278 01ba 59 A5 18                		movu.B	24[r10], r5
 279 01bd 75 55 2F                		cmp	#47, r5
 280 01c0 25 0A                   		bleu	.L22
 113:../lib/libtm/libtm_printf.c **** 				wid = wid * 10 + c - '0';
 281                             		.loc 1 113 27 discriminator 3
 282 01c2 59 A5 18                		movu.B	24[r10], r5
 283 01c5 75 55 39                		cmp	#57, r5
 284 01c8 25 D2                   		bleu	.L24
 285                             	.L22:
 115:../lib/libtm/libtm_printf.c **** 		}
 116:../lib/libtm/libtm_printf.c **** 
 117:../lib/libtm/libtm_printf.c **** 		/* Get precision */
 118:../lib/libtm/libtm_printf.c **** 		prec = -1;
 286                             		.loc 1 118 8
 287 01ca F9 A5 03 FF             		mov.W	#-1, 6[r10]
 119:../lib/libtm/libtm_printf.c **** 		if (c == '.') {
 288                             		.loc 1 119 6
 289 01ce 59 A5 18                		movu.B	24[r10], r5
 290 01d1 75 55 2E                		cmp	#46, r5
 291 01d4 3B 86 00                		bne	.L25
 120:../lib/libtm/libtm_printf.c **** 			c = *fmt++;
 292                             		.loc 1 120 12
 293 01d7 ED A5 0D                		mov.L	52[r10], r5
 294 01da 71 54 01                		add	#1, r5, r4
 295 01dd E7 A4 0D                		mov.L	r4, 52[r10]
 296                             		.loc 1 120 6
 297 01e0 CC 55                   		mov.B	[r5], r5
 298 01e2 C7 A5 18                		mov.B	r5, 24[r10]
 121:../lib/libtm/libtm_printf.c **** 			if (c == '*') {
 299                             		.loc 1 121 7
 300 01e5 59 A5 18                		movu.B	24[r10], r5
 301 01e8 75 55 2A                		cmp	#42, r5
 302 01eb 21 30                   		bne	.L26
 122:../lib/libtm/libtm_printf.c **** 				prec = va_arg(ap, INT);
 303                             		.loc 1 122 12
 304 01ed ED A5 0E                		mov.L	56[r10], r5
 305 01f0 62 35                   		add	#3, r5
 306 01f2 75 25 FC                		and	#-4, r5
 307 01f5 71 54 04                		add	#4, r5, r4
 308 01f8 E7 A4 0E                		mov.L	r4, 56[r10]
 309 01fb EC 55                   		mov.L	[r5], r5
 310                             		.loc 1 122 10
 311 01fd D7 A5 03                		mov.W	r5, 6[r10]
 123:../lib/libtm/libtm_printf.c **** 				if (prec < 0) prec = 0;
 312                             		.loc 1 123 8
 313 0200 DD A5 03                		mov.W	6[r10], r5
 314 0203 61 05                   		cmp	#0, r5
 315 0205 28 06                   		bge	.L27
 316                             		.loc 1 123 24 discriminator 1
 317 0207 F9 A5 03 00             		mov.W	#0, 6[r10]
 318                             	.L27:
 124:../lib/libtm/libtm_printf.c **** 				c = *fmt++;
 319                             		.loc 1 124 13
 320 020b ED A5 0D                		mov.L	52[r10], r5
 321 020e 71 54 01                		add	#1, r5, r4
 322 0211 E7 A4 0D                		mov.L	r4, 52[r10]
 323                             		.loc 1 124 7
 324 0214 CC 55                   		mov.B	[r5], r5
 325 0216 C7 A5 18                		mov.B	r5, 24[r10]
 326 0219 2E 38                   		bra	.L28
 327                             	.L26:
 125:../lib/libtm/libtm_printf.c **** 			} else {
 126:../lib/libtm/libtm_printf.c **** 				for (prec = 0;c >= '0' && c <= '9';c = *fmt++)
 328                             		.loc 1 126 15
 329 021b F9 A5 03 00             		mov.W	#0, 6[r10]
 330                             		.loc 1 126 5
 331 021f 2E 22                   		bra	.L29
 332                             	.L30:
 127:../lib/libtm/libtm_printf.c **** 					prec = prec * 10 + c - '0';
 333                             		.loc 1 127 18 discriminator 4
 334 0221 DD A5 03                		mov.W	6[r10], r5
 335 0224 63 A5                   		mul	#10, r5
 336 0226 DF 54                   		mov.W	r5, r4
 337                             		.loc 1 127 23 discriminator 4
 338 0228 59 A5 18                		movu.B	24[r10], r5
 339 022b 4B 45                   		add	r4, r5
 340                             		.loc 1 127 27 discriminator 4
 341 022d 71 55 D0                		add	#-48, r5
 342                             		.loc 1 127 11 discriminator 4
 343 0230 D7 A5 03                		mov.W	r5, 6[r10]
 126:../lib/libtm/libtm_printf.c **** 					prec = prec * 10 + c - '0';
 344                             		.loc 1 126 48 discriminator 4
 345 0233 ED A5 0D                		mov.L	52[r10], r5
 346 0236 71 54 01                		add	#1, r5, r4
 347 0239 E7 A4 0D                		mov.L	r4, 52[r10]
 126:../lib/libtm/libtm_printf.c **** 					prec = prec * 10 + c - '0';
 348                             		.loc 1 126 42 discriminator 4
 349 023c CC 55                   		mov.B	[r5], r5
 350 023e C7 A5 18                		mov.B	r5, 24[r10]
 351                             	.L29:
 126:../lib/libtm/libtm_printf.c **** 					prec = prec * 10 + c - '0';
 352                             		.loc 1 126 5 discriminator 1
 353 0241 59 A5 18                		movu.B	24[r10], r5
 354 0244 75 55 2F                		cmp	#47, r5
 355 0247 25 0A                   		bleu	.L28
 126:../lib/libtm/libtm_printf.c **** 					prec = prec * 10 + c - '0';
 356                             		.loc 1 126 28 discriminator 3
 357 0249 59 A5 18                		movu.B	24[r10], r5
 358 024c 75 55 39                		cmp	#57, r5
 359 024f 25 D2                   		bleu	.L30
 360                             	.L28:
 128:../lib/libtm/libtm_printf.c **** 			}
 129:../lib/libtm/libtm_printf.c **** 			flg &= ~F_ZERO;		/* No ZERO padding */
 361                             		.loc 1 129 8
 362 0251 CD A5 1A                		mov.B	26[r10], r5
 363 0254 75 25 EF                		and	#-17, r5
 364 0257 C7 A5 1A                		mov.B	r5, 26[r10]
 365                             	.L25:
 130:../lib/libtm/libtm_printf.c **** 		}
 131:../lib/libtm/libtm_printf.c **** 
 132:../lib/libtm/libtm_printf.c **** 		/* Get qualifier */
 133:../lib/libtm/libtm_printf.c **** 		qual = 0;
 366                             		.loc 1 133 8
 367 025a F9 A4 1B 00             		mov.B	#0, 27[r10]
 134:../lib/libtm/libtm_printf.c **** 		if (c == 'h' || c == 'l') {
 368                             		.loc 1 134 6
 369 025e 59 A5 18                		movu.B	24[r10], r5
 370 0261 75 55 68                		cmp	#0x68, r5
 371 0264 11                      		beq	.L31
 372                             		.loc 1 134 16 discriminator 1
 373 0265 59 A5 18                		movu.B	24[r10], r5
 374 0268 75 55 6C                		cmp	#0x6c, r5
 375 026b 21 16                   		bne	.L32
 376                             	.L31:
 135:../lib/libtm/libtm_printf.c **** 			qual = c;
 377                             		.loc 1 135 9
 378 026d CD A5 18                		mov.B	24[r10], r5
 379 0270 C7 A5 1B                		mov.B	r5, 27[r10]
 136:../lib/libtm/libtm_printf.c **** 			c = *fmt++;
 380                             		.loc 1 136 12
 381 0273 ED A5 0D                		mov.L	52[r10], r5
 382 0276 71 54 01                		add	#1, r5, r4
 383 0279 E7 A4 0D                		mov.L	r4, 52[r10]
 384                             		.loc 1 136 6
 385 027c CC 55                   		mov.B	[r5], r5
 386 027e C7 A5 18                		mov.B	r5, 24[r10]
 387                             	.L32:
 137:../lib/libtm/libtm_printf.c **** 		}
 138:../lib/libtm/libtm_printf.c **** 
 139:../lib/libtm/libtm_printf.c **** 		/* Format items */
 140:../lib/libtm/libtm_printf.c **** 		base = 10;
 388                             		.loc 1 140 8
 389 0281 F9 A4 19 0A             		mov.B	#10, 25[r10]
 141:../lib/libtm/libtm_printf.c **** 		sign = 0;
 390                             		.loc 1 141 8
 391 0285 F9 A4 2A 00             		mov.B	#0, 42[r10]
 142:../lib/libtm/libtm_printf.c **** 		cbe = &cbuf[MAX_DIGITS];	/* buffer end pointer */
 392                             		.loc 1 142 7
 393 0289 71 A5 1C                		add	#28, r10, r5
 394 028c 62 E5                   		add	#14, r5
 395 028e E7 A5 05                		mov.L	r5, 20[r10]
 143:../lib/libtm/libtm_printf.c **** 
 144:../lib/libtm/libtm_printf.c **** 		switch (c) {
 396                             		.loc 1 144 3
 397 0291 59 A5 18                		movu.B	24[r10], r5
 398 0294 75 55 69                		cmp	#0x69, r5
 399 0297 20 4A                   		beq	.L33
 400 0299 75 55 69                		cmp	#0x69, r5
 401 029c 2A 22                   		bgt	.L34
 402 029e 75 55 58                		cmp	#0x58, r5
 403 02a1 20 40                   		beq	.L33
 404 02a3 75 55 58                		cmp	#0x58, r5
 405 02a6 2A 0A                   		bgt	.L35
 406 02a8 61 05                   		cmp	#0, r5
 407 02aa 3A 11 02                		beq	.L36
 408 02ad 38 19 02                		bra	.L37
 409                             	.L35:
 410 02b0 75 55 63                		cmp	#0x63, r5
 411 02b3 3A DF 01                		beq	.L38
 412 02b6 75 55 64                		cmp	#0x64, r5
 413 02b9 20 28                   		beq	.L33
 414 02bb 38 0B 02                		bra	.L37
 415                             	.L34:
 416 02be 75 55 73                		cmp	#0x73, r5
 417 02c1 3A 77 01                		beq	.L39
 418 02c4 75 55 73                		cmp	#0x73, r5
 419 02c7 2A 10                   		bgt	.L40
 420 02c9 75 55 6F                		cmp	#0x6f, r5
 421 02cc 20 15                   		beq	.L33
 422 02ce 75 55 70                		cmp	#0x70, r5
 423 02d1 3A 32 01                		beq	.L41
 424 02d4 38 F2 01                		bra	.L37
 425                             	.L40:
 426 02d7 75 55 75                		cmp	#0x75, r5
 427 02da 17                      		beq	.L33
 428 02db 75 55 78                		cmp	#0x78, r5
 429 02de 3B E8 01                		bne	.L37
 430                             		.balign 8,3,3
 431                             	.L33:
 145:../lib/libtm/libtm_printf.c **** 		case 'i':
 146:../lib/libtm/libtm_printf.c **** 		case 'd':
 147:../lib/libtm/libtm_printf.c **** 		case 'u':
 148:../lib/libtm/libtm_printf.c **** 		case 'X':
 149:../lib/libtm/libtm_printf.c **** 		case 'x':
 150:../lib/libtm/libtm_printf.c **** 		case 'o':
 151:../lib/libtm/libtm_printf.c **** 			if (qual == 'l') {
 432                             		.loc 1 151 7
 433 02e1 59 A5 1B                		movu.B	27[r10], r5
 434 02e4 75 55 6C                		cmp	#0x6c, r5
 435 02e7 21 16                   		bne	.L42
 152:../lib/libtm/libtm_printf.c **** 				v = va_arg(ap, UW);
 436                             		.loc 1 152 7
 437 02e9 ED A5 0E                		mov.L	56[r10], r5
 438 02ec 62 35                   		add	#3, r5
 439 02ee 75 25 FC                		and	#-4, r5
 440 02f1 71 54 04                		add	#4, r5, r4
 441 02f4 E7 A4 0E                		mov.L	r4, 56[r10]
 442 02f7 EC 55                   		mov.L	[r5], r5
 443 02f9 E3 A5                   		mov.L	r5, [r10]
 444 02fb 2E 35                   		bra	.L43
 445                             	.L42:
 153:../lib/libtm/libtm_printf.c **** 			} else {
 154:../lib/libtm/libtm_printf.c **** 				v = va_arg(ap, UINT);
 446                             		.loc 1 154 7
 447 02fd ED A5 0E                		mov.L	56[r10], r5
 448 0300 62 35                   		add	#3, r5
 449 0302 75 25 FC                		and	#-4, r5
 450 0305 71 54 04                		add	#4, r5, r4
 451 0308 E7 A4 0E                		mov.L	r4, 56[r10]
 452 030b EC 55                   		mov.L	[r5], r5
 453 030d E3 A5                   		mov.L	r5, [r10]
 155:../lib/libtm/libtm_printf.c **** 				if (qual == 'h') {
 454                             		.loc 1 155 8
 455 030f 59 A5 1B                		movu.B	27[r10], r5
 456 0312 75 55 68                		cmp	#0x68, r5
 457 0315 21 1B                   		bne	.L43
 156:../lib/libtm/libtm_printf.c **** 					v = (c == 'i' || c == 'd') ?
 157:../lib/libtm/libtm_printf.c **** 						(H)v :(UH)v;
 458                             		.loc 1 157 12
 459 0317 59 A5 18                		movu.B	24[r10], r5
 460 031a 75 55 69                		cmp	#0x69, r5
 461 031d 10                      		beq	.L44
 156:../lib/libtm/libtm_printf.c **** 					v = (c == 'i' || c == 'd') ?
 462                             		.loc 1 156 20
 463 031e 59 A5 18                		movu.B	24[r10], r5
 464 0321 75 55 64                		cmp	#0x64, r5
 465 0324 1E                      		bne	.L45
 466                             	.L44:
 467                             		.loc 1 157 7 discriminator 1
 468 0325 EC A5                   		mov.L	[r10], r5
 469                             		.loc 1 157 12 discriminator 1
 470 0327 DF 55                   		mov.W	r5, r5
 471 0329 0D                      		bra	.L46
 472                             	.L45:
 473                             		.loc 1 157 13
 474 032a EC A5                   		mov.L	[r10], r5
 475                             		.loc 1 157 12
 476 032c 5F 55                   		movu.W	r5, r5
 477                             	.L46:
 156:../lib/libtm/libtm_printf.c **** 					v = (c == 'i' || c == 'd') ?
 478                             		.loc 1 156 8
 479 032e E3 A5                   		mov.L	r5, [r10]
 480                             	.L43:
 158:../lib/libtm/libtm_printf.c **** 				}
 159:../lib/libtm/libtm_printf.c **** 			}
 160:../lib/libtm/libtm_printf.c **** 			switch (c) {
 481                             		.loc 1 160 4
 482 0330 59 A5 18                		movu.B	24[r10], r5
 483 0333 75 55 69                		cmp	#0x69, r5
 484 0336 20 27                   		beq	.L47
 485 0338 75 55 69                		cmp	#0x69, r5
 486 033b 2A 0F                   		bgt	.L48
 487 033d 75 55 58                		cmp	#0x58, r5
 488 0340 20 54                   		beq	.L49
 489 0342 75 55 64                		cmp	#0x64, r5
 490 0345 20 18                   		beq	.L47
 491 0347 38 99 00                		bra	.L50
 492                             	.L48:
 493 034a 75 55 75                		cmp	#0x75, r5
 494 034d 3A 8D 00                		beq	.L87
 495 0350 75 55 78                		cmp	#0x78, r5
 496 0353 20 4A                   		beq	.L52
 497 0355 75 55 6F                		cmp	#0x6f, r5
 498 0358 20 4D                   		beq	.L53
 499 035a 38 86 00                		bra	.L50
 500                             	.L47:
 161:../lib/libtm/libtm_printf.c **** 			case 'i':
 162:../lib/libtm/libtm_printf.c **** 			case 'd':
 163:../lib/libtm/libtm_printf.c **** 				if ((W)v < 0) {
 501                             		.loc 1 163 9
 502 035d EC A5                   		mov.L	[r10], r5
 503                             		.loc 1 163 8
 504 035f 61 05                   		cmp	#0, r5
 505 0361 28 0E                   		bge	.L54
 164:../lib/libtm/libtm_printf.c **** 					v = - (W)v;
 506                             		.loc 1 164 12
 507 0363 EC A5                   		mov.L	[r10], r5
 508                             		.loc 1 164 10
 509 0365 7E 15                   		neg	r5
 510                             		.loc 1 164 8
 511 0367 E3 A5                   		mov.L	r5, [r10]
 165:../lib/libtm/libtm_printf.c **** 					sign = '-';
 512                             		.loc 1 165 11
 513 0369 F9 A4 2A 2D             		mov.B	#45, 42[r10]
 514 036d 2E 1D                   		bra	.L55
 515                             	.L54:
 166:../lib/libtm/libtm_printf.c **** 				} else if ((flg & F_PLUS) != 0) {
 516                             		.loc 1 166 21
 517 036f 59 A5 1A                		movu.B	26[r10], r5
 518 0372 64 25                   		and	#2, r5
 519                             		.loc 1 166 15
 520 0374 61 05                   		cmp	#0, r5
 521 0376 17                      		beq	.L56
 167:../lib/libtm/libtm_printf.c **** 					sign = '+';
 522                             		.loc 1 167 11
 523 0377 F9 A4 2A 2B             		mov.B	#43, 42[r10]
 524 037b 2E 0F                   		bra	.L55
 525                             	.L56:
 168:../lib/libtm/libtm_printf.c **** 				} else if ((flg & F_SPACE) != 0) {
 526                             		.loc 1 168 21
 527 037d 59 A5 1A                		movu.B	26[r10], r5
 528 0380 64 45                   		and	#4, r5
 529                             		.loc 1 168 15
 530 0382 61 05                   		cmp	#0, r5
 531 0384 20 58                   		beq	.L88
 169:../lib/libtm/libtm_printf.c **** 					sign = ' ';
 532                             		.loc 1 169 11
 533 0386 F9 A4 2A 20             		mov.B	#32, 42[r10]
 534                             	.L55:
 170:../lib/libtm/libtm_printf.c **** 				} else {
 171:../lib/libtm/libtm_printf.c **** 					break;
 172:../lib/libtm/libtm_printf.c **** 				}
 173:../lib/libtm/libtm_printf.c **** 				wid--;		/* for sign */
 535                             		.loc 1 173 8
 536 038a DD A5 02                		mov.W	4[r10], r5
 537 038d 60 15                   		sub	#1, r5
 538 038f D7 A5 02                		mov.W	r5, 4[r10]
 174:../lib/libtm/libtm_printf.c **** 			case 'u':
 175:../lib/libtm/libtm_printf.c **** 				break;
 539                             		.loc 1 175 5
 540 0392 2E 48                   		bra	.L87
 541                             	.L49:
 176:../lib/libtm/libtm_printf.c **** 			case 'X':
 177:../lib/libtm/libtm_printf.c **** 				base += 0x40;	/* base = 16 + 0x40 */
 542                             		.loc 1 177 10
 543 0394 CD A5 19                		mov.B	25[r10], r5
 544 0397 71 55 40                		add	#0x40, r5
 545 039a C7 A5 19                		mov.B	r5, 25[r10]
 546                             	.L52:
 178:../lib/libtm/libtm_printf.c **** 			case 'x':
 179:../lib/libtm/libtm_printf.c **** 				base += 8;	/* base = 16 */
 547                             		.loc 1 179 10
 548 039d CD A5 19                		mov.B	25[r10], r5
 549 03a0 62 85                   		add	#8, r5
 550 03a2 C7 A5 19                		mov.B	r5, 25[r10]
 551                             	.L53:
 180:../lib/libtm/libtm_printf.c **** 			case 'o':
 181:../lib/libtm/libtm_printf.c **** 				base -= 2;	/* base = 8 */
 552                             		.loc 1 181 10
 553 03a5 CD A5 19                		mov.B	25[r10], r5
 554 03a8 60 25                   		sub	#2, r5
 555 03aa C7 A5 19                		mov.B	r5, 25[r10]
 182:../lib/libtm/libtm_printf.c **** 				if ((flg & F_PREFIX) != 0 && v != 0) {
 556                             		.loc 1 182 14
 557 03ad 59 A5 1A                		movu.B	26[r10], r5
 558 03b0 64 85                   		and	#8, r5
 559                             		.loc 1 182 8
 560 03b2 61 05                   		cmp	#0, r5
 561 03b4 20 2B                   		beq	.L89
 562                             		.loc 1 182 31 discriminator 1
 563 03b6 EC A5                   		mov.L	[r10], r5
 564 03b8 61 05                   		cmp	#0, r5
 565 03ba 20 25                   		beq	.L89
 183:../lib/libtm/libtm_printf.c **** 					wid -= (base == 8) ? 1 : 2;
 566                             		.loc 1 183 10
 567 03bc DD A4 02                		mov.W	4[r10], r4
 568 03bf 59 A5 19                		movu.B	25[r10], r5
 569 03c2 61 85                   		cmp	#8, r5
 570 03c4 1C                      		bne	.L59
 571                             		.loc 1 183 10 is_stmt 0 discriminator 1
 572 03c5 66 15                   		mov	#1, r5
 573 03c7 0B                      		bra	.L60
 574                             	.L59:
 575                             		.loc 1 183 10 discriminator 2
 576 03c8 66 25                   		mov	#2, r5
 577                             	.L60:
 578                             		.loc 1 183 10 discriminator 4
 579 03ca FF 05 54                		sub	r5, r4, r5
 580 03cd D7 A5 02                		mov.W	r5, 4[r10]
 184:../lib/libtm/libtm_printf.c **** 					base |= 0x80;
 581                             		.loc 1 184 11 is_stmt 1 discriminator 4
 582 03d0 CD A5 19                		mov.B	25[r10], r5
 583 03d3 75 35 80                		or	#-128, r5
 584 03d6 C7 A5 19                		mov.B	r5, 25[r10]
 185:../lib/libtm/libtm_printf.c **** 				}
 186:../lib/libtm/libtm_printf.c **** 				break;
 585                             		.loc 1 186 5 discriminator 4
 586 03d9 0E                      		bra	.L89
 587                             	.L87:
 175:../lib/libtm/libtm_printf.c **** 			case 'X':
 588                             		.loc 1 175 5
 589 03da 03                      		nop
 590 03db 0D                      		bra	.L50
 591                             	.L88:
 171:../lib/libtm/libtm_printf.c **** 				}
 592                             		.loc 1 171 6
 593 03dc 03                      		nop
 594 03dd 2E 03                   		bra	.L50
 595                             	.L89:
 596                             		.loc 1 186 5
 597 03df 03                      		nop
 598                             		.balign 8,3,1
 599                             	.L50:
 187:../lib/libtm/libtm_printf.c **** 			}
 188:../lib/libtm/libtm_printf.c **** 			/* Note: None outputs when v == 0 && prec == 0 */
 189:../lib/libtm/libtm_printf.c **** 			cbs = (v == 0 && prec == 0) ?
 190:../lib/libtm/libtm_printf.c **** 						cbe : outint(cbe, v, base);
 600                             		.loc 1 190 11
 601 03e0 EC A5                   		mov.L	[r10], r5
 602 03e2 61 05                   		cmp	#0, r5
 603 03e4 18                      		bne	.L61
 189:../lib/libtm/libtm_printf.c **** 						cbe : outint(cbe, v, base);
 604                             		.loc 1 189 18
 605 03e5 DD A5 03                		mov.W	6[r10], r5
 606 03e8 61 05                   		cmp	#0, r5
 607 03ea 20 10                   		beq	.L62
 608                             	.L61:
 609                             		.loc 1 190 13 discriminator 1
 610 03ec CD A3 19                		mov.B	25[r10], r3
 611 03ef EC A2                   		mov.L	[r10], r2
 612 03f1 ED A1 05                		mov.L	20[r10], r1
 613 03f4 39 0C FC                		bsr	_outint
 614 03f7 EF 15                   		mov.L	r1, r5
 615                             		.loc 1 190 11 discriminator 1
 616 03f9 0C                      		bra	.L63
 617                             	.L62:
 618                             		.loc 1 190 11 is_stmt 0
 619 03fa ED A5 05                		mov.L	20[r10], r5
 620                             	.L63:
 189:../lib/libtm/libtm_printf.c **** 						cbe : outint(cbe, v, base);
 621                             		.loc 1 189 8 is_stmt 1
 622 03fd E7 A5 04                		mov.L	r5, 16[r10]
 191:../lib/libtm/libtm_printf.c **** 			break;
 623                             		.loc 1 191 4
 624 0400 38 D2 00                		bra	.L64
 625                             	.L41:
 192:../lib/libtm/libtm_printf.c **** 		case 'p':
 193:../lib/libtm/libtm_printf.c **** 			v = (UW)va_arg(ap, void *);
 626                             		.loc 1 193 12
 627 0403 ED A5 0E                		mov.L	56[r10], r5
 628 0406 62 35                   		add	#3, r5
 629 0408 75 25 FC                		and	#-4, r5
 630 040b 71 54 04                		add	#4, r5, r4
 631 040e E7 A4 0E                		mov.L	r4, 56[r10]
 632 0411 EC 55                   		mov.L	[r5], r5
 633                             		.loc 1 193 6
 634 0413 E3 A5                   		mov.L	r5, [r10]
 194:../lib/libtm/libtm_printf.c **** 			if (v != 0) {
 635                             		.loc 1 194 7
 636 0415 EC A5                   		mov.L	[r10], r5
 637 0417 61 05                   		cmp	#0, r5
 638 0419 20 0E                   		beq	.L65
 195:../lib/libtm/libtm_printf.c **** 				base = 16 | 0x80;
 639                             		.loc 1 195 10
 640 041b F9 A4 19 90             		mov.B	#-112, 25[r10]
 196:../lib/libtm/libtm_printf.c **** 				wid -= 2;
 641                             		.loc 1 196 9
 642 041f DD A5 02                		mov.W	4[r10], r5
 643 0422 60 25                   		sub	#2, r5
 644 0424 D7 A5 02                		mov.W	r5, 4[r10]
 645                             	.L65:
 197:../lib/libtm/libtm_printf.c **** 			}
 198:../lib/libtm/libtm_printf.c **** 			cbs = outint(cbe, v, base);
 646                             		.loc 1 198 10
 647 0427 CD A3 19                		mov.B	25[r10], r3
 648 042a EC A2                   		mov.L	[r10], r2
 649 042c ED A1 05                		mov.L	20[r10], r1
 650 042f 39 D1 FB                		bsr	_outint
 651 0432 E7 A1 04                		mov.L	r1, 16[r10]
 199:../lib/libtm/libtm_printf.c **** 			break;
 652                             		.loc 1 199 4
 653 0435 38 9D 00                		bra	.L64
 654                             	.L39:
 200:../lib/libtm/libtm_printf.c **** 		case 's':
 201:../lib/libtm/libtm_printf.c **** 			cbe = cbs = va_arg(ap, UB *);
 655                             		.loc 1 201 14
 656 0438 ED A5 0E                		mov.L	56[r10], r5
 657 043b 62 35                   		add	#3, r5
 658 043d 75 25 FC                		and	#-4, r5
 659 0440 71 54 04                		add	#4, r5, r4
 660 0443 E7 A4 0E                		mov.L	r4, 56[r10]
 661 0446 EC 55                   		mov.L	[r5], r5
 662 0448 E7 A5 04                		mov.L	r5, 16[r10]
 663                             		.loc 1 201 8
 664 044b ED A5 04                		mov.L	16[r10], r5
 665 044e E7 A5 05                		mov.L	r5, 20[r10]
 202:../lib/libtm/libtm_printf.c **** 			if (prec < 0) {
 666                             		.loc 1 202 7
 667 0451 DD A5 03                		mov.W	6[r10], r5
 668 0454 61 05                   		cmp	#0, r5
 669 0456 28 20                   		bge	.L70
 203:../lib/libtm/libtm_printf.c **** 				while (*cbe != '\0') cbe++;
 670                             		.loc 1 203 11
 671 0458 09                      		bra	.L67
 672                             	.L68:
 673                             		.loc 1 203 29 discriminator 2
 674 0459 ED A5 05                		mov.L	20[r10], r5
 675 045c 62 15                   		add	#1, r5
 676 045e E7 A5 05                		mov.L	r5, 20[r10]
 677                             	.L67:
 678                             		.loc 1 203 12 discriminator 1
 679 0461 ED A5 05                		mov.L	20[r10], r5
 680 0464 CC 55                   		mov.B	[r5], r5
 681                             		.loc 1 203 11 discriminator 1
 682 0466 5B 55                   		movu.B	r5, r5
 683 0468 61 05                   		cmp	#0, r5
 684 046a 21 EF                   		bne	.L68
 204:../lib/libtm/libtm_printf.c **** 			} else {
 205:../lib/libtm/libtm_printf.c **** 				while (--prec >= 0 && *cbe != '\0') cbe++;
 206:../lib/libtm/libtm_printf.c **** 			}
 207:../lib/libtm/libtm_printf.c **** 			break;
 685                             		.loc 1 207 4
 686 046c 2E 65                   		bra	.L90
 687                             	.L71:
 205:../lib/libtm/libtm_printf.c **** 			}
 688                             		.loc 1 205 44 discriminator 3
 689 046e ED A5 05                		mov.L	20[r10], r5
 690 0471 62 15                   		add	#1, r5
 691 0473 E7 A5 05                		mov.L	r5, 20[r10]
 692                             	.L70:
 205:../lib/libtm/libtm_printf.c **** 			}
 693                             		.loc 1 205 12 discriminator 1
 694 0476 DD A5 03                		mov.W	6[r10], r5
 695 0479 60 15                   		sub	#1, r5
 205:../lib/libtm/libtm_printf.c **** 			}
 696                             		.loc 1 205 11 discriminator 1
 697 047b D7 A5 03                		mov.W	r5, 6[r10]
 698 047e DD A5 03                		mov.W	6[r10], r5
 699 0481 61 05                   		cmp	#0, r5
 700 0483 29 4E                   		blt	.L90
 205:../lib/libtm/libtm_printf.c **** 			}
 701                             		.loc 1 205 27 discriminator 2
 702 0485 ED A5 05                		mov.L	20[r10], r5
 703 0488 CC 55                   		mov.B	[r5], r5
 205:../lib/libtm/libtm_printf.c **** 			}
 704                             		.loc 1 205 24 discriminator 2
 705 048a 5B 55                   		movu.B	r5, r5
 706 048c 61 05                   		cmp	#0, r5
 707 048e 21 E0                   		bne	.L71
 708                             		.loc 1 207 4
 709 0490 2E 41                   		bra	.L90
 710                             	.L38:
 208:../lib/libtm/libtm_printf.c **** 		case 'c':
 209:../lib/libtm/libtm_printf.c **** 			cbs = cbe;
 711                             		.loc 1 209 8
 712 0492 ED A5 05                		mov.L	20[r10], r5
 713 0495 E7 A5 04                		mov.L	r5, 16[r10]
 210:../lib/libtm/libtm_printf.c **** 			*--cbs = (UB)va_arg(ap, INT);
 714                             		.loc 1 210 17
 715 0498 ED A5 0E                		mov.L	56[r10], r5
 716 049b 62 35                   		add	#3, r5
 717 049d 75 25 FC                		and	#-4, r5
 718 04a0 71 54 04                		add	#4, r5, r4
 719 04a3 E7 A4 0E                		mov.L	r4, 56[r10]
 720 04a6 EC 54                   		mov.L	[r5], r4
 721                             		.loc 1 210 11
 722 04a8 ED A5 04                		mov.L	16[r10], r5
 723 04ab 60 15                   		sub	#1, r5
 724 04ad E7 A5 04                		mov.L	r5, 16[r10]
 725 04b0 ED A5 04                		mov.L	16[r10], r5
 726 04b3 C3 54                   		mov.B	r4, [r5]
 211:../lib/libtm/libtm_printf.c **** 			prec = 0;
 727                             		.loc 1 211 9
 728 04b5 F9 A5 03 00             		mov.W	#0, 6[r10]
 212:../lib/libtm/libtm_printf.c **** 			break;
 729                             		.loc 1 212 4
 730 04b9 2E 19                   		bra	.L64
 731                             	.L36:
 213:../lib/libtm/libtm_printf.c **** 		case '\0':
 214:../lib/libtm/libtm_printf.c **** 			fmt--;
 732                             		.loc 1 214 7
 733 04bb ED A5 0D                		mov.L	52[r10], r5
 734 04be 60 15                   		sub	#1, r5
 735 04c0 E7 A5 0D                		mov.L	r5, 52[r10]
 215:../lib/libtm/libtm_printf.c **** 			continue;
 736                             		.loc 1 215 4
 737 04c3 38 46 01                		bra	.L6
 738                             	.L37:
 216:../lib/libtm/libtm_printf.c **** 		default:
 217:../lib/libtm/libtm_printf.c **** 			/* Output as fixed string */
 218:../lib/libtm/libtm_printf.c **** 			fms = (UB*)fmt - 1;
 739                             		.loc 1 218 8
 740 04c6 ED A5 0D                		mov.L	52[r10], r5
 741 04c9 60 15                   		sub	#1, r5
 742 04cb E7 A5 03                		mov.L	r5, 12[r10]
 219:../lib/libtm/libtm_printf.c **** 			continue;
 743                             		.loc 1 219 4
 744 04ce 38 3B 01                		bra	.L6
 745                             	.L90:
 207:../lib/libtm/libtm_printf.c **** 		case 'c':
 746                             		.loc 1 207 4
 747 04d1 03                      		nop
 748                             		.balign 8,3,1
 749                             	.L64:
 220:../lib/libtm/libtm_printf.c **** 		}
 221:../lib/libtm/libtm_printf.c **** 
 222:../lib/libtm/libtm_printf.c **** 		n = cbe - cbs;				/* item length */
 750                             		.loc 1 222 11
 751 04d2 ED A4 05                		mov.L	20[r10], r4
 752 04d5 ED A5 04                		mov.L	16[r10], r5
 753 04d8 FF 05 54                		sub	r5, r4, r5
 754                             		.loc 1 222 5
 755 04db D7 A5 04                		mov.W	r5, 8[r10]
 223:../lib/libtm/libtm_printf.c **** 		if ((prec -= n) > 0) n += prec;
 756                             		.loc 1 223 13
 757 04de DD A4 03                		mov.W	6[r10], r4
 758 04e1 DD A5 04                		mov.W	8[r10], r5
 759 04e4 FF 05 54                		sub	r5, r4, r5
 760 04e7 D7 A5 03                		mov.W	r5, 6[r10]
 761                             		.loc 1 223 6
 762 04ea DD A5 03                		mov.W	6[r10], r5
 763 04ed 61 05                   		cmp	#0, r5
 764 04ef 2B 0D                   		ble	.L72
 765                             		.loc 1 223 26 discriminator 1
 766 04f1 DD A4 04                		mov.W	8[r10], r4
 767 04f4 DD A5 03                		mov.W	6[r10], r5
 768 04f7 4B 45                   		add	r4, r5
 769 04f9 D7 A5 04                		mov.W	r5, 8[r10]
 770                             	.L72:
 224:../lib/libtm/libtm_printf.c **** 		wid -= n;				/* pad length */
 771                             		.loc 1 224 7
 772 04fc DD A4 02                		mov.W	4[r10], r4
 773 04ff DD A5 04                		mov.W	8[r10], r5
 774 0502 FF 05 54                		sub	r5, r4, r5
 775 0505 D7 A5 02                		mov.W	r5, 4[r10]
 225:../lib/libtm/libtm_printf.c **** 
 226:../lib/libtm/libtm_printf.c **** 		/* Output preceding spaces */
 227:../lib/libtm/libtm_printf.c **** 		if ((flg & (F_LEFT | F_ZERO)) == 0 ) {
 776                             		.loc 1 227 12
 777 0508 59 A5 1A                		movu.B	26[r10], r5
 778 050b 75 25 11                		and	#17, r5
 779                             		.loc 1 227 6
 780 050e 61 05                   		cmp	#0, r5
 781 0510 21 23                   		bne	.L73
 228:../lib/libtm/libtm_printf.c **** 			while (--wid >= 0) (*ostr)((UB*)" ", 1, par);
 782                             		.loc 1 228 10
 783 0512 2E 12                   		bra	.L74
 784                             	.L75:
 785                             		.loc 1 228 24 discriminator 2
 786 0514 ED A5 0B                		mov.L	44[r10], r5
 787 0517 ED A3 0C                		mov.L	48[r10], r3
 788 051a 66 12                   		mov.L	#1, r2
 789 051c FB 12 00 00 00 00       		mov.L	#.LC0, r1
 790 0522 7F 15                   		jsr	r5
 791                             	.LVL1:
 792                             	.L74:
 793                             		.loc 1 228 11 discriminator 1
 794 0524 DD A5 02                		mov.W	4[r10], r5
 795 0527 60 15                   		sub	#1, r5
 796                             		.loc 1 228 10 discriminator 1
 797 0529 D7 A5 02                		mov.W	r5, 4[r10]
 798 052c DD A5 02                		mov.W	4[r10], r5
 799 052f 61 05                   		cmp	#0, r5
 800 0531 28 E3                   		bge	.L75
 801                             	.L73:
 229:../lib/libtm/libtm_printf.c **** 		}
 230:../lib/libtm/libtm_printf.c **** 
 231:../lib/libtm/libtm_printf.c **** 		/* Output sign */
 232:../lib/libtm/libtm_printf.c **** 		if (sign != 0) {
 802                             		.loc 1 232 12
 803 0533 CD A5 2A                		mov.B	42[r10], r5
 804                             		.loc 1 232 6
 805 0536 5B 55                   		movu.B	r5, r5
 806 0538 61 05                   		cmp	#0, r5
 807 053a 20 11                   		beq	.L76
 233:../lib/libtm/libtm_printf.c **** 			(*ostr)(&sign, 1, par);
 808                             		.loc 1 233 5
 809 053c 71 A4 2A                		add	#42, r10, r4
 810 053f ED A5 0B                		mov.L	44[r10], r5
 811 0542 ED A3 0C                		mov.L	48[r10], r3
 812 0545 66 12                   		mov.L	#1, r2
 813 0547 EF 41                   		mov.L	r4, r1
 814 0549 7F 15                   		jsr	r5
 815                             	.LVL2:
 816                             	.L76:
 234:../lib/libtm/libtm_printf.c **** 		}
 235:../lib/libtm/libtm_printf.c **** 
 236:../lib/libtm/libtm_printf.c **** 		/* Output prefix "0x", "0X" or "0" */
 237:../lib/libtm/libtm_printf.c **** 		if ((base & 0x80) != 0) {
 817                             		.loc 1 237 21
 818 054b CD A5 19                		mov.B	25[r10], r5
 819                             		.loc 1 237 6
 820 054e CF 55                   		mov.B	r5, r5
 821 0550 61 05                   		cmp	#0, r5
 822 0552 28 3E                   		bge	.L77
 238:../lib/libtm/libtm_printf.c **** 			(*ostr)((UB*)"0", 1, par);
 823                             		.loc 1 238 5
 824 0554 ED A5 0B                		mov.L	44[r10], r5
 825 0557 ED A3 0C                		mov.L	48[r10], r3
 826 055a 66 12                   		mov.L	#1, r2
 827 055c FB 12 02 00 00 00       		mov.L	#.LC1, r1
 828 0562 7F 15                   		jsr	r5
 829                             	.LVL3:
 239:../lib/libtm/libtm_printf.c **** 			if ((base & 0x10) != 0) {
 830                             		.loc 1 239 14
 831 0564 59 A5 19                		movu.B	25[r10], r5
 832 0567 75 25 10                		and	#16, r5
 833                             		.loc 1 239 7
 834 056a 61 05                   		cmp	#0, r5
 835 056c 20 24                   		beq	.L77
 240:../lib/libtm/libtm_printf.c **** 				(*ostr)((base & 0x40) ? (UB*)"X" : (UB*)"x", 1, par);
 836                             		.loc 1 240 19
 837 056e 59 A5 19                		movu.B	25[r10], r5
 838 0571 75 25 40                		and	#0x40, r5
 839                             		.loc 1 240 6
 840 0574 61 05                   		cmp	#0, r5
 841 0576 10                      		beq	.L78
 842                             		.loc 1 240 6 is_stmt 0 discriminator 1
 843 0577 FB 42 04 00 00 00       		mov.L	#.LC2, r4
 844 057d 0F                      		bra	.L79
 845                             	.L78:
 846                             		.loc 1 240 6 discriminator 2
 847 057e FB 42 06 00 00 00       		mov.L	#.LC3, r4
 848                             	.L79:
 849                             		.loc 1 240 6 discriminator 4
 850 0584 ED A5 0B                		mov.L	44[r10], r5
 851 0587 ED A3 0C                		mov.L	48[r10], r3
 852 058a 66 12                   		mov.L	#1, r2
 853 058c EF 41                   		mov.L	r4, r1
 854 058e 7F 15                   		jsr	r5
 855                             	.LVL4:
 856                             	.L77:
 241:../lib/libtm/libtm_printf.c **** 			}
 242:../lib/libtm/libtm_printf.c **** 		}
 243:../lib/libtm/libtm_printf.c **** 
 244:../lib/libtm/libtm_printf.c **** 		/* Output preceding zeros for precision or padding */
 245:../lib/libtm/libtm_printf.c **** 		if ((n = prec) <= 0) {
 857                             		.loc 1 245 10 is_stmt 1
 858 0590 DD A5 03                		mov.W	6[r10], r5
 859 0593 D7 A5 04                		mov.W	r5, 8[r10]
 860                             		.loc 1 245 6
 861 0596 DD A5 04                		mov.W	8[r10], r5
 862 0599 61 05                   		cmp	#0, r5
 863 059b 2A 29                   		bgt	.L81
 246:../lib/libtm/libtm_printf.c **** 			if ((flg & (F_LEFT | F_ZERO)) == F_ZERO ) {
 864                             		.loc 1 246 13
 865 059d 59 A5 1A                		movu.B	26[r10], r5
 866 05a0 75 25 11                		and	#17, r5
 867                             		.loc 1 246 7
 868 05a3 75 55 10                		cmp	#16, r5
 869 05a6 21 1E                   		bne	.L81
 247:../lib/libtm/libtm_printf.c **** 				n = wid;
 870                             		.loc 1 247 7
 871 05a8 DD A5 02                		mov.W	4[r10], r5
 872 05ab D7 A5 04                		mov.W	r5, 8[r10]
 248:../lib/libtm/libtm_printf.c **** 				wid = 0;
 873                             		.loc 1 248 9
 874 05ae F9 A5 02 00             		mov.W	#0, 4[r10]
 249:../lib/libtm/libtm_printf.c **** 			}
 250:../lib/libtm/libtm_printf.c **** 		}
 251:../lib/libtm/libtm_printf.c **** 		while (--n >= 0) (*ostr)((UB*)"0", 1, par);
 875                             		.loc 1 251 9
 876 05b2 2E 12                   		bra	.L81
 877                             	.L82:
 878                             		.loc 1 251 21 discriminator 2
 879 05b4 ED A5 0B                		mov.L	44[r10], r5
 880 05b7 ED A3 0C                		mov.L	48[r10], r3
 881 05ba 66 12                   		mov.L	#1, r2
 882 05bc FB 12 02 00 00 00       		mov.L	#.LC1, r1
 883 05c2 7F 15                   		jsr	r5
 884                             	.LVL5:
 885                             		.balign 8,3,1
 886                             	.L81:
 887                             		.loc 1 251 10 discriminator 1
 888 05c4 DD A5 04                		mov.W	8[r10], r5
 889 05c7 60 15                   		sub	#1, r5
 890                             		.loc 1 251 9 discriminator 1
 891 05c9 D7 A5 04                		mov.W	r5, 8[r10]
 892 05cc DD A5 04                		mov.W	8[r10], r5
 893 05cf 61 05                   		cmp	#0, r5
 894 05d1 28 E3                   		bge	.L82
 252:../lib/libtm/libtm_printf.c **** 
 253:../lib/libtm/libtm_printf.c **** 		/* Output item string */
 254:../lib/libtm/libtm_printf.c **** 		(*ostr)(cbs, cbe - cbs, par);
 895                             		.loc 1 254 20
 896 05d3 ED A4 05                		mov.L	20[r10], r4
 897 05d6 ED A5 04                		mov.L	16[r10], r5
 898 05d9 43 54                   		sub	r5, r4
 899                             		.loc 1 254 4
 900 05db ED A5 0B                		mov.L	44[r10], r5
 901 05de ED A3 0C                		mov.L	48[r10], r3
 902 05e1 EF 42                   		mov.L	r4, r2
 903 05e3 ED A1 04                		mov.L	16[r10], r1
 904 05e6 7F 15                   		jsr	r5
 905                             	.LVL6:
 255:../lib/libtm/libtm_printf.c **** 
 256:../lib/libtm/libtm_printf.c **** 		/* Output tailing spaces */
 257:../lib/libtm/libtm_printf.c **** 		while (--wid >= 0) (*ostr)((UB*)" ", 1, par);
 906                             		.loc 1 257 9
 907 05e8 2E 12                   		bra	.L83
 908                             	.L84:
 909                             		.loc 1 257 23 discriminator 2
 910 05ea ED A5 0B                		mov.L	44[r10], r5
 911 05ed ED A3 0C                		mov.L	48[r10], r3
 912 05f0 66 12                   		mov.L	#1, r2
 913 05f2 FB 12 00 00 00 00       		mov.L	#.LC0, r1
 914 05f8 7F 15                   		jsr	r5
 915                             	.LVL7:
 916                             	.L83:
 917                             		.loc 1 257 10 discriminator 1
 918 05fa DD A5 02                		mov.W	4[r10], r5
 919 05fd 60 15                   		sub	#1, r5
 920                             		.loc 1 257 9 discriminator 1
 921 05ff D7 A5 02                		mov.W	r5, 4[r10]
 922 0602 DD A5 02                		mov.W	4[r10], r5
 923 0605 61 05                   		cmp	#0, r5
 924 0607 28 E3                   		bge	.L84
 925                             		.balign 8,3,1
 926                             	.L6:
  79:../lib/libtm/libtm_printf.c **** 
 927                             		.loc 1 79 28 discriminator 1
 928 0609 ED A5 0D                		mov.L	52[r10], r5
 929 060c 71 54 01                		add	#1, r5, r4
 930 060f E7 A4 0D                		mov.L	r4, 52[r10]
  79:../lib/libtm/libtm_printf.c **** 
 931                             		.loc 1 79 22 discriminator 1
 932 0612 CC 55                   		mov.B	[r5], r5
 933 0614 C7 A5 18                		mov.B	r5, 24[r10]
  79:../lib/libtm/libtm_printf.c **** 
 934                             		.loc 1 79 2 discriminator 1
 935 0617 59 A5 18                		movu.B	24[r10], r5
 936 061a 61 05                   		cmp	#0, r5
 937 061c 3B 8A FA                		bne	.L85
 258:../lib/libtm/libtm_printf.c **** 	}
 259:../lib/libtm/libtm_printf.c **** 
 260:../lib/libtm/libtm_printf.c **** 	/* Output last fix string */
 261:../lib/libtm/libtm_printf.c **** 	if (fms != NULL) {
 938                             		.loc 1 261 5
 939 061f ED A5 03                		mov.L	12[r10], r5
 940 0622 61 05                   		cmp	#0, r5
 941 0624 20 1B                   		beq	.L91
 262:../lib/libtm/libtm_printf.c **** 		(*ostr)(fms, fmt - fms - 1, par);
 942                             		.loc 1 262 20
 943 0626 ED A4 0D                		mov.L	52[r10], r4
 944 0629 ED A5 03                		mov.L	12[r10], r5
 945 062c FF 05 54                		sub	r5, r4, r5
 946                             		.loc 1 262 26
 947 062f 71 54 FF                		add	#-1, r5, r4
 948                             		.loc 1 262 4
 949 0632 ED A5 0B                		mov.L	44[r10], r5
 950 0635 ED A3 0C                		mov.L	48[r10], r3
 951 0638 EF 42                   		mov.L	r4, r2
 952 063a ED A1 03                		mov.L	12[r10], r1
 953 063d 7F 15                   		jsr	r5
 954                             	.LVL8:
 955                             	.L91:
 263:../lib/libtm/libtm_printf.c **** 	}
 264:../lib/libtm/libtm_printf.c **** #if	TM_OUTBUF_SZ > 0
 265:../lib/libtm/libtm_printf.c **** 	/* Flush output */
 266:../lib/libtm/libtm_printf.c **** 	(*ostr)(NULL, 0, par);
 267:../lib/libtm/libtm_printf.c **** #endif
 268:../lib/libtm/libtm_printf.c **** }
 956                             		.loc 1 268 1
 957 063f 03                      		nop
 958 0640 3F AA 10                		rtsd	#64, r10-r10
 959                             	.LFE7:
 962                             	_out_cons:
 963                             	.LFB8:
 269:../lib/libtm/libtm_printf.c **** 
 270:../lib/libtm/libtm_printf.c **** /*
 271:../lib/libtm/libtm_printf.c ****  *	Output to console
 272:../lib/libtm/libtm_printf.c ****  */
 273:../lib/libtm/libtm_printf.c **** LOCAL	void	out_cons( UB *str, INT len,  OutPar *par )
 274:../lib/libtm/libtm_printf.c **** {
 964                             		.loc 1 274 1
 965 0643 7E AA                   		push.l	r10
 966                             	.LCFI4:
 967 0645 71 0A F4                		add	#-12, r0, r10
 968                             	.LCFI5:
 969 0648 EF A0                   		mov.L	r10, r0
 970 064a E3 A1                   		mov.L	r1, [r10]
 971 064c E7 A2 01                		mov.L	r2, 4[r10]
 972 064f E7 A3 02                		mov.L	r3, 8[r10]
 275:../lib/libtm/libtm_printf.c **** #if	TM_OUTBUF_SZ == 0
 276:../lib/libtm/libtm_printf.c **** 	/* Direct output to console */
 277:../lib/libtm/libtm_printf.c **** 	par->len += len;
 973                             		.loc 1 277 11
 974 0652 ED A5 02                		mov.L	8[r10], r5
 975 0655 DC 55                   		mov.W	[r5], r5
 976 0657 DF 54                   		mov.W	r5, r4
 977 0659 ED A5 01                		mov.L	4[r10], r5
 978 065c 4B 45                   		add	r4, r5
 979 065e DF 54                   		mov.W	r5, r4
 980 0660 ED A5 02                		mov.L	8[r10], r5
 981 0663 D3 54                   		mov.W	r4, [r5]
 278:../lib/libtm/libtm_printf.c **** 	while (--len >= 0) tm_putchar(*str++);
 982                             		.loc 1 278 8
 983 0665 2E 13                   		bra	.L93
 984                             	.L94:
 985                             		.loc 1 278 36 discriminator 2
 986 0667 EC A5                   		mov.L	[r10], r5
 987 0669 71 54 01                		add	#1, r5, r4
 988 066c E3 A4                   		mov.L	r4, [r10]
 989                             		.loc 1 278 32 discriminator 2
 990 066e CC 55                   		mov.B	[r5], r5
 991                             		.loc 1 278 21 discriminator 2
 992 0670 5B 55                   		movu.B	r5, r5
 993 0672 EF 51                   		mov.L	r5, r1
 994 0674 05 00 00 00             		bsr	_tm_putchar
 995                             	.L93:
 996                             		.loc 1 278 8 discriminator 1
 997 0678 ED A5 01                		mov.L	4[r10], r5
 998 067b 60 15                   		sub	#1, r5
 999 067d E7 A5 01                		mov.L	r5, 4[r10]
 1000 0680 ED A5 01                		mov.L	4[r10], r5
 1001 0683 61 05                   		cmp	#0, r5
 1002 0685 28 E2                   		bge	.L94
 279:../lib/libtm/libtm_printf.c **** #else
 280:../lib/libtm/libtm_printf.c **** 	/* Buffered output to console */
 281:../lib/libtm/libtm_printf.c **** 	if (str == NULL) {	/* Flush */
 282:../lib/libtm/libtm_printf.c **** 		if (par->cnt > 0) {
 283:../lib/libtm/libtm_printf.c **** 			par->bufp[par->cnt] = '\0';
 284:../lib/libtm/libtm_printf.c **** 			tm_putstring(par->bufp);
 285:../lib/libtm/libtm_printf.c **** 			par->cnt = 0;
 286:../lib/libtm/libtm_printf.c **** 		}
 287:../lib/libtm/libtm_printf.c **** 	} else {
 288:../lib/libtm/libtm_printf.c **** 		par->len += len;
 289:../lib/libtm/libtm_printf.c **** 		while (--len >= 0) {
 290:../lib/libtm/libtm_printf.c **** 			if (par->cnt >= TM_OUTBUF_SZ - 1) {
 291:../lib/libtm/libtm_printf.c **** 				par->bufp[par->cnt] = '\0';
 292:../lib/libtm/libtm_printf.c **** 				tm_putstring(par->bufp);
 293:../lib/libtm/libtm_printf.c **** 				par->cnt = 0;
 294:../lib/libtm/libtm_printf.c **** 			}
 295:../lib/libtm/libtm_printf.c **** 			par->bufp[par->cnt++] = *str++;
 296:../lib/libtm/libtm_printf.c **** 		}
 297:../lib/libtm/libtm_printf.c **** 	}
 298:../lib/libtm/libtm_printf.c **** #endif
 299:../lib/libtm/libtm_printf.c **** }
 1003                             		.loc 1 299 1
 1004 0687 03                      		nop
 1005 0688 3F AA 04                		rtsd	#16, r10-r10
 1006                             	.LFE8:
 1008                             		.global	_tm_printf
 1010                             	_tm_printf:
 1011                             	.LFB9:
 300:../lib/libtm/libtm_printf.c **** 
 301:../lib/libtm/libtm_printf.c **** EXPORT INT	tm_printf( const UB *format, ... )
 302:../lib/libtm/libtm_printf.c **** {
 1012                             		.loc 1 302 1
 1013 068b 7E AA                   		push.l	r10
 1014                             	.LCFI6:
 1015 068d 71 0A F4                		add	#-12, r0, r10
 1016                             	.LCFI7:
 1017 0690 EF A0                   		mov.L	r10, r0
 1018 0692 75 45 14                		mov.L	#20, r5
 1019 0695 4B A5                   		add	r10, r5
 303:../lib/libtm/libtm_printf.c **** 	va_list	ap;
 304:../lib/libtm/libtm_printf.c **** 
 305:../lib/libtm/libtm_printf.c **** #if	TM_OUTBUF_SZ == 0
 306:../lib/libtm/libtm_printf.c **** 	H	len = 0;
 1020                             		.loc 1 306 4
 1021 0697 F9 A5 02 00             		mov.W	#0, 4[r10]
 307:../lib/libtm/libtm_printf.c **** 
 308:../lib/libtm/libtm_printf.c **** 	va_start(ap, format);
 1022                             		.loc 1 308 2
 1023 069b 71 54 04                		add	#4, r5, r4
 1024 069e E3 A4                   		mov.L	r4, [r10]
 309:../lib/libtm/libtm_printf.c **** 	tm_vsprintf(out_cons, (OutPar*)&len, format, ap);
 1025                             		.loc 1 309 2
 1026 06a0 EC A4                   		mov.L	[r10], r4
 1027 06a2 71 A2 04                		add	#4, r10, r2
 1028 06a5 EC 53                   		mov.L	[r5], r3
 1029 06a7 FB 12 43 06 00 00       		mov.L	#_out_cons, r1
 1030 06ad 39 DF F9                		bsr	_tm_vsprintf
 310:../lib/libtm/libtm_printf.c **** 	va_end(ap);
 311:../lib/libtm/libtm_printf.c **** 	return len;
 1031                             		.loc 1 311 9
 1032 06b0 DD A5 02                		mov.W	4[r10], r5
 1033 06b3 DF 55                   		mov.W	r5, r5
 312:../lib/libtm/libtm_printf.c **** #else
 313:../lib/libtm/libtm_printf.c **** 	UB	obuf[TM_OUTBUF_SZ];
 314:../lib/libtm/libtm_printf.c **** 	OutPar	par;
 315:../lib/libtm/libtm_printf.c **** 
 316:../lib/libtm/libtm_printf.c **** 	par.len = par.cnt = 0;
 317:../lib/libtm/libtm_printf.c **** 	par.bufp = obuf;
 318:../lib/libtm/libtm_printf.c **** 	va_start(ap, format);
 319:../lib/libtm/libtm_printf.c **** 	tm_vsprintf(out_cons, (OutPar*)&par, format, ap);
 320:../lib/libtm/libtm_printf.c **** 	va_end(ap);
 321:../lib/libtm/libtm_printf.c **** 	return par.len;
 322:../lib/libtm/libtm_printf.c **** #endif
 323:../lib/libtm/libtm_printf.c **** }
 1034                             		.loc 1 323 1
 1035 06b5 EF 51                   		mov.L	r5, r1
 1036 06b7 3F AA 04                		rtsd	#16, r10-r10
 1037                             	.LFE9:
 1040                             	_out_buf:
 1041                             	.LFB10:
 324:../lib/libtm/libtm_printf.c **** 
 325:../lib/libtm/libtm_printf.c **** /*
 326:../lib/libtm/libtm_printf.c ****  *	Output to buffer
 327:../lib/libtm/libtm_printf.c ****  */
 328:../lib/libtm/libtm_printf.c **** LOCAL	void	out_buf( UB *str, INT len, OutPar *par )
 329:../lib/libtm/libtm_printf.c **** {
 1042                             		.loc 1 329 1
 1043 06ba 7E AA                   		push.l	r10
 1044                             	.LCFI8:
 1045 06bc 71 0A F4                		add	#-12, r0, r10
 1046                             	.LCFI9:
 1047 06bf EF A0                   		mov.L	r10, r0
 1048 06c1 E3 A1                   		mov.L	r1, [r10]
 1049 06c3 E7 A2 01                		mov.L	r2, 4[r10]
 1050 06c6 E7 A3 02                		mov.L	r3, 8[r10]
 330:../lib/libtm/libtm_printf.c **** 	par->len += len;
 1051                             		.loc 1 330 11
 1052 06c9 ED A5 02                		mov.L	8[r10], r5
 1053 06cc DC 55                   		mov.W	[r5], r5
 1054 06ce DF 54                   		mov.W	r5, r4
 1055 06d0 ED A5 01                		mov.L	4[r10], r5
 1056 06d3 4B 45                   		add	r4, r5
 1057 06d5 DF 54                   		mov.W	r5, r4
 1058 06d7 ED A5 02                		mov.L	8[r10], r5
 1059 06da D3 54                   		mov.W	r4, [r5]
 331:../lib/libtm/libtm_printf.c **** 	while (--len >= 0) *(par->bufp)++ = *str++;
 1060                             		.loc 1 331 8
 1061 06dc 2E 1A                   		bra	.L98
 1062                             	.L99:
 1063                             		.loc 1 331 42 discriminator 2
 1064 06de EC A4                   		mov.L	[r10], r4
 1065 06e0 71 45 01                		add	#1, r4, r5
 1066 06e3 E3 A5                   		mov.L	r5, [r10]
 1067                             		.loc 1 331 26 discriminator 2
 1068 06e5 ED A5 02                		mov.L	8[r10], r5
 1069 06e8 A8 5D                   		mov.L	4[r5], r5
 1070                             		.loc 1 331 33 discriminator 2
 1071 06ea 71 52 01                		add	#1, r5, r2
 1072 06ed ED A3 02                		mov.L	8[r10], r3
 1073 06f0 A0 3A                   		mov.L	r2, 4[r3]
 1074                             		.loc 1 331 38 discriminator 2
 1075 06f2 CC 44                   		mov.B	[r4], r4
 1076                             		.loc 1 331 36 discriminator 2
 1077 06f4 C3 54                   		mov.B	r4, [r5]
 1078                             	.L98:
 1079                             		.loc 1 331 8 discriminator 1
 1080 06f6 ED A5 01                		mov.L	4[r10], r5
 1081 06f9 60 15                   		sub	#1, r5
 1082 06fb E7 A5 01                		mov.L	r5, 4[r10]
 1083 06fe ED A5 01                		mov.L	4[r10], r5
 1084 0701 61 05                   		cmp	#0, r5
 1085 0703 28 DB                   		bge	.L99
 332:../lib/libtm/libtm_printf.c **** }
 1086                             		.loc 1 332 1
 1087 0705 03                      		nop
 1088 0706 3F AA 04                		rtsd	#16, r10-r10
 1089                             	.LFE10:
 1091                             		.global	_tm_sprintf
 1093                             	_tm_sprintf:
 1094                             	.LFB11:
 333:../lib/libtm/libtm_printf.c **** 
 334:../lib/libtm/libtm_printf.c **** EXPORT INT	tm_sprintf( UB *str, const UB *format, ... )
 335:../lib/libtm/libtm_printf.c **** {
 1095                             		.loc 1 335 1
 1096 0709 7E AA                   		push.l	r10
 1097                             	.LCFI10:
 1098 070b 71 0A EC                		add	#-20, r0, r10
 1099                             	.LCFI11:
 1100 070e EF A0                   		mov.L	r10, r0
 1101 0710 75 45 1C                		mov.L	#28, r5
 1102 0713 4B A5                   		add	r10, r5
 1103 0715 E7 A1 03                		mov.L	r1, 12[r10]
 336:../lib/libtm/libtm_printf.c **** 	OutPar	par;
 337:../lib/libtm/libtm_printf.c **** 	va_list	ap;
 338:../lib/libtm/libtm_printf.c **** 
 339:../lib/libtm/libtm_printf.c **** 	par.len = 0;
 1104                             		.loc 1 339 10
 1105 0718 F8 A5 00                		mov.W	#0, [r10]
 340:../lib/libtm/libtm_printf.c **** 	par.bufp = str;
 1106                             		.loc 1 340 11
 1107 071b ED A4 03                		mov.L	12[r10], r4
 1108 071e E7 A4 01                		mov.L	r4, 4[r10]
 341:../lib/libtm/libtm_printf.c **** 	va_start(ap, format);
 1109                             		.loc 1 341 2
 1110 0721 71 54 04                		add	#4, r5, r4
 1111 0724 E7 A4 02                		mov.L	r4, 8[r10]
 342:../lib/libtm/libtm_printf.c **** 	tm_vsprintf(out_buf, &par, format, ap);
 1112                             		.loc 1 342 2
 1113 0727 ED A4 02                		mov.L	8[r10], r4
 1114 072a EC 53                   		mov.L	[r5], r3
 1115 072c EF A2                   		mov.L	r10, r2
 1116 072e FB 12 BA 06 00 00       		mov.L	#_out_buf, r1
 1117 0734 39 58 F9                		bsr	_tm_vsprintf
 343:../lib/libtm/libtm_printf.c **** 	va_end(ap);
 344:../lib/libtm/libtm_printf.c **** 	str[par.len] = '\0';
 1118                             		.loc 1 344 9
 1119 0737 DC A5                   		mov.W	[r10], r5
 1120 0739 DF 55                   		mov.W	r5, r5
 1121                             		.loc 1 344 5
 1122 073b ED A4 03                		mov.L	12[r10], r4
 1123 073e 4B 45                   		add	r4, r5
 1124                             		.loc 1 344 15
 1125 0740 F8 54 00                		mov.B	#0, [r5]
 345:../lib/libtm/libtm_printf.c **** 	return par.len;
 1126                             		.loc 1 345 12
 1127 0743 DC A5                   		mov.W	[r10], r5
 1128 0745 DF 55                   		mov.W	r5, r5
 346:../lib/libtm/libtm_printf.c **** }
 1129                             		.loc 1 346 1
 1130 0747 EF 51                   		mov.L	r5, r1
 1131 0749 3F AA 06                		rtsd	#24, r10-r10
 1132                             	.LFE11:
 1134                             		.section C,"a",@progbits
 1135                             		.p2align 2
 1138                             	_digits.2217:
 1139 0008 30 31 32 33 34 35 36 37 		.ascii	"0123456789abcdef0123456789ABCDEF"
 1139      38 39 61 62 63 64 65 66 
 1139      30 31 32 33 34 35 36 37 
 1139      38 39 41 42 43 44 45 46 
 1278                             	.Letext0:
 1279                             		.file 2 "D:\\tkernel_dev\\mtk3_bsp\\dev_bsp_b2_tbrx65n\\include/tk/typedef.h"
 1280                             		.file 3 "d:\\tkernel_dev\\tools_rx\\gcc for renesas rx 8.3.0.202004-gnurx-elf\\rx-elf\\rx-elf\\lib
